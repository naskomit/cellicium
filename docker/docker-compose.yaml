version: '3.4'

services:
  cellicium:
    container_name: cellicium
    build:
      context: build/cellicium
      dockerfile: Dockerfile
      args:
        BASE_IMAGE: jupyter/scipy-notebook:8d32a5208ca1
    ports:
      - 8888-8892:8888-8892
    # command:
    #   - sleep
    #   - "infinity"
    environment:
      JUPYTER_ENABLE_LAB: "yes"
      PYTHONPATH: "/home/jovyan/pylibs"
    volumes:
      - ${ABS_TOPLEVEL}/notebooks:/home/jovyan/notebooks
      - ${ABS_TOPLEVEL}/cellicium:/home/jovyan/pylibs/cellicium
      - ${ABS_TOPLEVEL}/external:/home/jovyan/external
